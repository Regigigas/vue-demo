<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>iview example</title>
    <link rel="stylesheet" type="text/css" href="http://unpkg.com/iview/dist/styles/iview.css">
    <script type="text/javascript" src="http://vuejs.org/js/vue.min.js"></script>
    <script type="text/javascript" src="http://unpkg.com/iview/dist/iview.min.js"></script>
</head>
<body>
	<div id="app" class="layout">
		<!-- 在实现全选效果时，你可能会用到 indeterminate 属性。示例代码只是一种写法，业务中可以用更多的方法，比如计算属性。 -->
		<div style="border-bottom: 1px solid #e9e9e9;padding-bottom:6px;margin-bottom:6px;">
			<Checkbox
				:indeterminate="indeterminate"
				:value="checkAll"
				@click.prevent.native="handleCheckAll">全选</Checkbox>
		</div>
		<CheckboxGroup v-model="checkAllGroup" @on-change="checkAllGroupChange">
			<Checkbox label="香蕉"></Checkbox>
			<Checkbox label="苹果"></Checkbox>
			<Checkbox label="西瓜"></Checkbox>
		</CheckboxGroup>
	</div>
<script>
	new Vue({
		data () {
            return {
                indeterminate: true,
                checkAll: false,
                checkAllGroup: ['香蕉', '西瓜']
            }
        },
        methods: {
            handleCheckAll () {
                if (this.indeterminate) {
                    this.checkAll = false;
                } else {
                    this.checkAll = !this.checkAll;
                }
                this.indeterminate = false;

                if (this.checkAll) {
                    this.checkAllGroup = ['香蕉', '苹果', '西瓜'];
                } else {
                    this.checkAllGroup = [];
                }
            },
            checkAllGroupChange (data) {
                if (data.length === 3) {
                    this.indeterminate = false;
                    this.checkAll = true;
                } else if (data.length > 0) {
                    this.indeterminate = true;
                    this.checkAll = false;
                } else {
                    this.indeterminate = false;
                    this.checkAll = false;
                }
            }
        }
	}).$mount("#app")
	/*
	:
	SO₂
	:
	NOₓ
	:
	NH₃
	:
	PM₂.₅
	:
	PM₁₀
	*/
</script>
</body>
</html>